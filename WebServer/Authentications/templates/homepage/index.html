<!doctype html>
<html class="mdl-js" lang="en">
<head>
	<meta charset="utf-8">
	
	<!-- Making site responsive -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Bal Aveksha - Home</title>

	<!-- Css file to be included -->
    {% load staticfiles %}
    <!--Import Google Icon Font-->
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->

	<link rel="stylesheet" href="{% static 'homepage_files/css/normalize.css' %}">
	<link rel="stylesheet" href="{% static 'homepage_files/css/bootstrap.min.css' %}">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.teal-red.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{% static 'homepage_files/css/style_home.css' %}">
	<!-- Js files to be included-->
	<!-- Jquery to be included before bootstrap script -->
    <script src="{% static 'homepage_files/js/jquery-1.11.3.min.js' %}"></script>
    <script src="{% static 'homepage_files/js/smoothscroll.js' %}"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>


</head>
<body>


<!-- Navigation Bar, fixed at top -->
<div class="mdl-layout mdl-js-layout navigation_header mdl-layout--fixed-header" style="position: fixed; !important">
	<header class="mdl-layout__header mdl-layout__header--transparent mdl-layout--no-drawer-button">
		<div class="mdl-layout__header-row">
			<!-- Logo-->
			<span class="mdl-layout__title"><img class="img-responsive logo_image" src="{% static 'homepage_files/images/logo.png' %}" alt="Bal Aveksha"></span>
			<div class="mdl-layout-spacer"></div>
			<nav class="mdl-navigation">
        		<a id="home" class="mdl-navigation__link" href=""><span class="material-icons">home</span>&nbsp;Home</a>
        		<a id="info" class="mdl-navigation__link" href=""><span class="material-icons">info</span>&nbsp;About</a>
        		<a id="features" class="mdl-navigation__link" href=""><span class="material-icons">star</span>&nbsp;Features</a>
        		<a id="services" class="mdl-navigation__link" href=""><span class="material-icons">settings</span>&nbsp;Services</a>
        		<button id="login" class="btn btn-primary" href="" data-toggle="modal" data-target="#loginModal">Login</button>
        		
      		</nav>
			<!-- Right aligned menu below button -->
			<button id="header_menu" class="mdl-button mdl-js-button mdl-button--icon">
			  	<i class="material-icons">more_vert</i>
			</button>

			<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="header_menu">
				<li class="mdl-menu__item"><span class="material-icons">home</span>&nbsp;Home</li>
  				<li class="mdl-menu__item"><span class="material-icons">info</span>&nbsp;About</li>
  				<li class="mdl-menu__item"><span class="material-icons">star</span>&nbsp;Features</li>
  				<li class="mdl-menu__item"><span class="material-icons">settings</span>&nbsp;Services</li>
			</ul>
		</div>
	</header>
</div>

<!-- HEADER -->
<header>
  	<div class="jumbotron header_div">
    	<div class="container">
      		<div class="row">
        		<div class="col-xs-12" style="background-color: rgba(255,255,255,0.7)">
          			<h1 id="landing_logo" class="text-center" style="align-items: center;"><img src="{% static 'homepage_files/images/logo_big.png' %}" alt="Bal AVeksha" class="img-responsive" style="max-width: 70%; display: block; margin: auto;"></h1>
        			<p class="text-center">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est, dicta, cupiditate consequatur necessitatibus quos libero eius ipsum qui sit molestiae.</p>
        			<p>&nbsp;</p>

        			<p class="text-center">
        				<a id="get_started_button" class="btn btn-primary btn-lg" href="#" role="button">Get Started!!</a>
        			</p>
        		</div>
      		</div>
    	</div>
  	</div>
</header>
<!-- / HEADER --> 




<div class="home_div container">
	
</div>




<div id="loginModal" class="modal fade" role="dialog">
					<div class="modal-dialog">
					<!-- Modal content-->
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">&times;</button>
								<h4 class="modal-title">Login</h4>
							</div>
							<div class="modal-body">
								<form action="" id="login_form">
									<div class="form-group row">
										<div class="col col-sm-6">
											<label class="" for="username">Username</label>
											<input class="form-control" type="text" id="username">
										</div>
										<div class="col col-sm-6">
											<label class="" for="password">Password</label>
											<input class="form-control" type="password" id="password">
										</div>
									</div>
								</form>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
								<button id="login_button_modal" type="submit" class="btn btn-success">Login</button>
							</div>
						</div>
					</div>
				</div>
<!-- Scripts to be include for parallax design and smoothscrolling-->

<script>
	$(document).ready(function(){
		customResponse();
	})
	
	$('.logo_image').hover(function(event){
		$(this).attr("src","{% static 'homepage_files/images/logo.gif' %}");
	}, function(event){
		$(this).attr("src", "{% static 'homepage_files/images/logo.png' %}");
	});
	
	$(window).on("resize", customResponse);
	
	function customResponse(){
		var viewportWidth = $(window).width();
		if (viewportWidth < 460) {
			$('#login').html('<span class="material-icons">person</span>');
			$('#info').hide();
			$('#home').hide();
			$('#services').hide();
			$('#features').hide();
			$('#header_menu').show();
			$('#get_started_button').removeClass("btn-lg");
			}
		else if(viewportWidth > 450 && viewportWidth < 768){
			$('#info').show();
			$('#home').show();
			$('#services').show();
			$('#features').show();
			$('#login').html('<span class="material-icons">person</span>');
			$('#info').html('<span class="material-icons">info</span>');
			$('#home').html('<span class="material-icons">home</span>');
			$('#services').html('<span class="material-icons">settings</span>');
			$('#features').html('<span class="material-icons">star</span>');
			$('#header_menu').hide();
			}
		else{
			$('#info').show();
			$('#home').show();
			$('#services').show();
			$('#features').show();
			$('#login').html('<span class="material-icons" style="vertical-align: middle;">person</span>&nbsp;Login');
			$('#info').html('<span class="material-icons" style="vertical-align: middle;">info</span>&nbsp;About');
			$('#home').html('<span class="material-icons" style="vertical-align: middle;">home</span>&nbsp;Home');
			$('#services').html('<span class="material-icons" style="vertical-align: middle;">settings</span>&nbsp;Services');
			$('#features').html('<span class="material-icons" style="vertical-align: middle;">star</span>&nbsp;Features');
			$('#header_menu').hide();
		}
	}
	$('#login_button_modal').on('click',function(){
		var $u = $('#username').val();
		var $p = $('#password').val();
		$.ajax({
			url: "http://127.0.0.1:8000/auth/login/",
			type: "POST",
			dataType: "json",
			data:{
				username:$u,
				password:$p
			},
            mimeType:"application/json",
		})
		.done(function(log_data){
                localStorage.setItem("token",log_data.auth_token);
                var token=' Token '+localStorage.getItem("token");
                localStorage.setItem("user",$u);
                $.ajax({
                url:"http://127.0.0.1:8000/userrole/",
                type:"POST",
                beforeSend: function (request) {
                    request.setRequestHeader("Authorization",token);
                },
                data:{
                    username:$u
                },
                success: function(ret_data){
                  if(ret_data.toString()=="Counsellee"){
                      $.ajax({
                          url:"http://127.0.0.1:8000/"+$u+"/counselleedashboard/",
                          type:"GET",
                          headers: {'Authorization': token},
                          success: function(data){
                              window.location.href = "http://127.0.0.1:8000/"+$u+"/counselleedashboard/";
                          }
                      });
                  }
                  else
                      $.ajax({
                          url:"http://127.0.0.1:8000/"+$u+"/counsellordashboard/",
                          type:"GET",
                          headers: {'Authorization': token},
                          success: function(){
                              window.location.href = "http://127.0.0.1:8000/"+$u+"/counsellordashboard/";
                          }
                      });
                }
            });
		})
		.fail(function(){
			console.log(" fail");
		});
	});

	$('#get_started_button').on('click',function (){
        window.location.href=window.location.href+"signup";

    })


</script>
</body>
</html>
